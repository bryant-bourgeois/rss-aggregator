## RSS Feed Aggregator

### Getting Started

---

#### Database Setup

- Run a postgres container:
```
 docker run -p 5432:5432 -e POSTGRES_PASSWORD=postgres -d postgres
```
- Connect to the database and create a database to connect to, later to be specified in your connection string
```
psql -h localhost -U postgres

CREATE DATABASE <DB_NAME>;
```
- Run database migrations (from ./sql/schema directory):
```
# Up Migrations: 
goose postgres postgres://postgres:postgres@localhost:5432/<DB_NAME> up

# Down Migrations:
goose postgres postgres://postgres:postgres@localhost:5432/<DB_NAME> down
```
- If making any database query changes to files in ./sql/queries, generate Go code in the internal/database package with ```sqlc generate``` (from project root).

**Note:** make sure not to edit any of the code generated by sqlc in the ```internal/database``` directory. For conventions like adding json tags to structs generated by sqlc, you can make conversion functions to copy the database structs to your own copies that have appropriate json tags.

#### Run the project (project root directory):
```
go run .
```
Side note, you'll need a .env file with these environment variables (or add them to the scope of the above command):
```
DB_CONN=postgres://postgres:postgres@localhost:5432/<DB_NAME>?sslmode=disable
PORT=8080
```
